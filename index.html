<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0"/>
<title>Custom Hangman Game</title>
<style>
    body {
        font-family: Arial, sans-serif;
        background: linear-gradient(135deg, #4e73df, #1cc88a);
        color: white;
        text-align: center;
        padding: 20px;
    }
    h1 { margin-bottom: 10px; }

    .box {
        background: rgba(0,0,0,0.25);
        padding: 20px;
        border-radius: 15px;
        margin: 15px auto;
        max-width: 700px;
    }

    input {
        padding: 8px;
        margin: 5px;
        border-radius: 6px;
        border: none;
    }

    button {
        padding: 8px 12px;
        border-radius: 6px;
        border: none;
        cursor: pointer;
        margin: 5px;
        font-weight: bold;
    }

    #keyboard button {
        width: 35px;
        height: 35px;
        margin: 3px;
    }

    #wordDisplay {
        font-size: 32px;
        letter-spacing: 8px;
        margin: 15px 0;
    }

    #imageHint {
        max-width: 250px;
        border-radius: 10px;
        margin-top: 10px;
    }

    canvas {
        background: white;
        border-radius: 10px;
        margin-top: 10px;
    }

    .hidden { display: none; }
</style>
</head>
<body>

<h1>ðŸŽ¯ Custom Hangman Game</h1>

<!-- SETUP SECTION -->
<div id="setup" class="box">
    <h2>Add Words & Images</h2>
    <input type="text" id="wordInput" placeholder="Enter word (e.g. ROBOT)" />
    <input type="text" id="imageInput" placeholder="Image URL (optional)" />
    <button onclick="addWord()">Add</button>

    <ul id="wordList"></ul>
    <button id="startBtn" onclick="startGame()" disabled>Start Game</button>
</div>

<!-- GAME SECTION -->
<div id="game" class="box hidden">
    <h2>Guess the Word!</h2>
    <canvas id="hangmanCanvas" width="200" height="200"></canvas>
    <div id="wordDisplay"></div>
    <img id="imageHint" />
    <div id="keyboard"></div>
    <p id="message"></p>
    <button onclick="nextRound()">Next Word</button>
</div>

<script>
let words = [];
let currentWord = "";
let guessedLetters = [];
let wrongGuesses = 0;
const maxWrong = 6;

function addWord() {
    const word = document.getElementById("wordInput").value.trim().toUpperCase();
    const image = document.getElementById("imageInput").value.trim();

    if (!word.match(/^[A-Z]+$/)) {
        alert("Word must contain letters only!");
        return;
    }

    words.push({ word, image });
    document.getElementById("wordList").innerHTML += `<li>${word}</li>`;
    document.getElementById("wordInput").value = "";
    document.getElementById("imageInput").value = "";
    document.getElementById("startBtn").disabled = false;
}

function startGame() {
    document.getElementById("setup").classList.add("hidden");
    document.getElementById("game").classList.remove("hidden");
    nextRound();
}

function nextRound() {
    const random = words[Math.floor(Math.random() * words.length)];
    currentWord = random.word;
    document.getElementById("imageHint").src = random.image || "";
    guessedLetters = [];
    wrongGuesses = 0;
    document.getElementById("message").textContent = "";
    drawHangman();
    createKeyboard();
    updateDisplay();
}

function createKeyboard() {
    const keyboard = document.getElementById("keyboard");
    keyboard.innerHTML = "";
    for (let i = 65; i <= 90; i++) {
        const letter = String.fromCharCode(i);
        const btn = document.createElement("button");
        btn.textContent = letter;
        btn.onclick = () => guess(letter, btn);
        keyboard.appendChild(btn);
    }
}

function guess(letter, btn) {
    btn.disabled = true;
    guessedLetters.push(letter);

    if (!currentWord.includes(letter)) {
        wrongGuesses++;
        drawHangman();
    }

    updateDisplay();
    checkGame();
}

function updateDisplay() {
    let display = "";
    for (let char of currentWord) {
        display += guessedLetters.includes(char) ? char : "_";
        display += " ";
    }
    document.getElementById("wordDisplay").textContent = display;
}

function checkGame() {
    const won = currentWord.split("").every(c => guessedLetters.includes(c));
    if (won) {
        document.getElementById("message").textContent = "ðŸŽ‰ You Win!";
        disableKeyboard();
    } else if (wrongGuesses >= maxWrong) {
        document.getElementById("message").textContent = "ðŸ’€ You Lost! Word was: " + currentWord;
        disableKeyboard();
    }
}

function disableKeyboard() {
    document.querySelectorAll("#keyboard button").forEach(b => b.disabled = true);
}

function drawHangman() {
    const canvas = document.getElementById("hangmanCanvas");
    const ctx = canvas.getContext("2d");
    ctx.clearRect(0, 0, canvas.width, canvas.height);

    ctx.strokeStyle = "black";
    ctx.lineWidth = 2;

    if (wrongGuesses > 0) ctx.strokeRect(10, 180, 180, 10); // base
    if (wrongGuesses > 1) { ctx.beginPath(); ctx.moveTo(50,180); ctx.lineTo(50,20); ctx.stroke(); }
    if (wrongGuesses > 2) { ctx.beginPath(); ctx.moveTo(50,20); ctx.lineTo(130,20); ctx.stroke(); }
    if (wrongGuesses > 3) { ctx.beginPath(); ctx.moveTo(130,20); ctx.lineTo(130,40); ctx.stroke(); }
    if (wrongGuesses > 4) { ctx.beginPath(); ctx.arc(130,55,15,0,Math.PI*2); ctx.stroke(); }
    if (wrongGuesses > 5) { ctx.beginPath(); ctx.moveTo(130,70); ctx.lineTo(130,120); ctx.stroke(); }
}
</script>

</body>
</html>

